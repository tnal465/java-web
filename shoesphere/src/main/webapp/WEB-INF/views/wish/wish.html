<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" 
      layout:decorate="~{layout/layout}">

<th:block layout:fragment="content">

<link rel="stylesheet" href="/login/css/style.css">

<h1 class="title">찜목록</h1>

<!-- 찜목록이 비어있으면 알림 -->
<div th:if="${wishlist.isEmpty()}">
    <p>찜목록에 상품이 없습니다.</p>
</div>

<!-- 찜목록 상품 리스트 -->
<div th:if="${not wishlist.isEmpty()}">
    <table class="table">
        <thead>
            <tr>
                <th>상품명</th>
                <th>가격</th>
                <th>옵션</th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="item : ${wishlist}">
                <td th:text="${item.product.name}">상품명</td>
                <td th:text="${item.product.price}">가격</td>
                <td>
                    <!-- 장바구니에 추가 -->
                    <form action="/add-to-cart" method="post">
                        <input type="hidden" th:name="productId" th:value="${item.product.productId}" />
                        <button type="submit" class="btn btn-success btn-sm">장바구니에 추가</button>
                    </form>

                    <!-- 찜목록에서 삭제 -->
                    <form action="/remove-from-wishlist" method="post">
                        <input type="hidden" th:name="productId" th:value="${item.product.productId}" />
                        <button type="submit" class="btn btn-danger btn-sm">찜목록에서 삭제</button>
                    </form>
                </td>
            </tr>
        </tbody>
    </table>
</div>

</th:block>
</html>
